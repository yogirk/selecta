{"ast":null,"code":"import React,{useState,useEffect}from'react';import Highlight from'react-highlight';// Import Highlight component\n// No need to import styles directly in JS with react-highlight\nimport'./SolutionArchitecture.css';// Import a highlight.js theme in SolutionArchitecture.css\nimport archiDiagram from'../../assets/archi.png';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SolutionArchitecture=()=>{const[agentCode,setAgentCode]=useState('');const[instructionsCode,setInstructionsCode]=useState('');const[customToolsCode,setCustomToolsCode]=useState('');const[instructionsYamlCode,setInstructionsYamlCode]=useState('');// New state for YAML\nconst[loadingCode,setLoadingCode]=useState(true);const[errorLoadingCode,setErrorLoadingCode]=useState(false);// State for collapsible sections\nconst[isInstructionsYamlCodeCollapsed,setIsInstructionsYamlCodeCollapsed]=useState(false);// New state for YAML, default open\nconst[isAgentCodeCollapsed,setIsAgentCodeCollapsed]=useState(true);const[isInstructionsCodeCollapsed,setIsInstructionsCodeCollapsed]=useState(true);const[isCustomToolsCodeCollapsed,setIsCustomToolsCodeCollapsed]=useState(true);const filesToFetch=[{name:'data_agent/instructions.yaml',setter:setInstructionsYamlCode},// Add YAML first\n{name:'data_agent/agent.py',setter:setAgentCode},{name:'data_agent/instructions.py',setter:setInstructionsCode},{name:'data_agent/custom_tools.py',setter:setCustomToolsCode}];useEffect(()=>{const fetchCode=async()=>{setLoadingCode(true);setErrorLoadingCode(false);try{for(const file of filesToFetch){const response=await fetch(`/api/code?filepath=${file.name}`);if(!response.ok){throw new Error(`Failed to fetch code for ${file.name}: ${response.status}`);}const data=await response.json();file.setter(data.content);}setLoadingCode(false);}catch(error){console.error(\"Error fetching code files:\",error);setErrorLoadingCode(true);setLoadingCode(false);}};fetchCode();},[]);// Empty dependency array means this effect runs once on mount\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"solution-architecture-page\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"page-header\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Solution Architecture\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"architecture-diagram-container\",children:/*#__PURE__*/_jsx(\"img\",{src:archiDiagram,alt:\"Solution Architecture Diagram\",className:\"architecture-diagram\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"code-section-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Key Code Files\"}),loadingCode?/*#__PURE__*/_jsx(\"p\",{children:\"Loading code...\"}):errorLoadingCode?/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:\"Failed to load code files.\"}):/*#__PURE__*/_jsxs(\"div\",{className:\"code-blocks-rows\",children:[\" \",/*#__PURE__*/_jsxs(\"div\",{className:\"code-block-row\",children:[/*#__PURE__*/_jsxs(\"h3\",{onClick:()=>setIsInstructionsYamlCodeCollapsed(!isInstructionsYamlCodeCollapsed),className:\"collapsible-header\",children:[\"data_agent/instructions.yaml \",isInstructionsYamlCodeCollapsed?'▼':'▲']}),!isInstructionsYamlCodeCollapsed&&/*#__PURE__*/_jsx(\"div\",{className:\"code-content\",children:/*#__PURE__*/_jsx(Highlight,{language:\"yaml\",children:instructionsYamlCode})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"code-block-row\",children:[\" \",/*#__PURE__*/_jsxs(\"h3\",{onClick:()=>setIsAgentCodeCollapsed(!isAgentCodeCollapsed),className:\"collapsible-header\",children:[\"data_agent/agent.py \",isAgentCodeCollapsed?'▼':'▲']}),!isAgentCodeCollapsed&&/*#__PURE__*/_jsx(\"div\",{className:\"code-content\",children:/*#__PURE__*/_jsx(Highlight,{language:\"python\",children:agentCode})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"code-block-row\",children:[\" \",/*#__PURE__*/_jsxs(\"h3\",{onClick:()=>setIsInstructionsCodeCollapsed(!isInstructionsCodeCollapsed),className:\"collapsible-header\",children:[\"data_agent/instructions.py \",isInstructionsCodeCollapsed?'▼':'▲']}),!isInstructionsCodeCollapsed&&/*#__PURE__*/_jsx(\"div\",{className:\"code-content\",children:/*#__PURE__*/_jsx(Highlight,{language:\"python\",children:instructionsCode})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"code-block-row\",children:[\" \",/*#__PURE__*/_jsxs(\"h3\",{onClick:()=>setIsCustomToolsCodeCollapsed(!isCustomToolsCodeCollapsed),className:\"collapsible-header\",children:[\"data_agent/custom_tools.py \",isCustomToolsCodeCollapsed?'▼':'▲']}),!isCustomToolsCodeCollapsed&&/*#__PURE__*/_jsx(\"div\",{className:\"code-content\",children:/*#__PURE__*/_jsx(Highlight,{language:\"python\",children:customToolsCode})})]})]})]})]});};export default SolutionArchitecture;","map":{"version":3,"names":["React","useState","useEffect","Highlight","archiDiagram","jsx","_jsx","jsxs","_jsxs","SolutionArchitecture","agentCode","setAgentCode","instructionsCode","setInstructionsCode","customToolsCode","setCustomToolsCode","instructionsYamlCode","setInstructionsYamlCode","loadingCode","setLoadingCode","errorLoadingCode","setErrorLoadingCode","isInstructionsYamlCodeCollapsed","setIsInstructionsYamlCodeCollapsed","isAgentCodeCollapsed","setIsAgentCodeCollapsed","isInstructionsCodeCollapsed","setIsInstructionsCodeCollapsed","isCustomToolsCodeCollapsed","setIsCustomToolsCodeCollapsed","filesToFetch","name","setter","fetchCode","file","response","fetch","ok","Error","status","data","json","content","error","console","className","children","src","alt","onClick","language"],"sources":["/Users/rk/Downloads/conv-analytics-demo/frontend/src/components/SolutionArchitecture/SolutionArchitecture.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Highlight from 'react-highlight'; // Import Highlight component\n// No need to import styles directly in JS with react-highlight\nimport './SolutionArchitecture.css';\n// Import a highlight.js theme in SolutionArchitecture.css\nimport archiDiagram from '../../assets/archi.png';\n\nconst SolutionArchitecture = () => {\n  const [agentCode, setAgentCode] = useState('');\n  const [instructionsCode, setInstructionsCode] = useState('');\n  const [customToolsCode, setCustomToolsCode] = useState('');\n  const [instructionsYamlCode, setInstructionsYamlCode] = useState(''); // New state for YAML\n  const [loadingCode, setLoadingCode] = useState(true);\n  const [errorLoadingCode, setErrorLoadingCode] = useState(false);\n\n  // State for collapsible sections\n  const [isInstructionsYamlCodeCollapsed, setIsInstructionsYamlCodeCollapsed] = useState(false); // New state for YAML, default open\n  const [isAgentCodeCollapsed, setIsAgentCodeCollapsed] = useState(true);\n  const [isInstructionsCodeCollapsed, setIsInstructionsCodeCollapsed] = useState(true);\n  const [isCustomToolsCodeCollapsed, setIsCustomToolsCodeCollapsed] = useState(true);\n\n  const filesToFetch = [\n    { name: 'data_agent/instructions.yaml', setter: setInstructionsYamlCode }, // Add YAML first\n    { name: 'data_agent/agent.py', setter: setAgentCode },\n    { name: 'data_agent/instructions.py', setter: setInstructionsCode },\n    { name: 'data_agent/custom_tools.py', setter: setCustomToolsCode },\n  ];\n\n  useEffect(() => {\n    const fetchCode = async () => {\n      setLoadingCode(true);\n      setErrorLoadingCode(false);\n      try {\n        for (const file of filesToFetch) {\n          const response = await fetch(`/api/code?filepath=${file.name}`);\n          if (!response.ok) {\n            throw new Error(`Failed to fetch code for ${file.name}: ${response.status}`);\n          }\n          const data = await response.json();\n          file.setter(data.content);\n        }\n        setLoadingCode(false);\n      } catch (error) {\n        console.error(\"Error fetching code files:\", error);\n        setErrorLoadingCode(true);\n        setLoadingCode(false);\n      }\n    };\n\n    fetchCode();\n  }, []); // Empty dependency array means this effect runs once on mount\n\n  return (\n    <div className=\"solution-architecture-page\">\n      <header className=\"page-header\">\n        <h1>Solution Architecture</h1>\n      </header>\n      <div className=\"architecture-diagram-container\">\n        {/* Display the architecture diagram image */}\n        <img src={archiDiagram} alt=\"Solution Architecture Diagram\" className=\"architecture-diagram\" />\n      </div>\n\n      <div className=\"code-section-container\">\n        <h2>Key Code Files</h2>\n        {loadingCode ? (\n          <p>Loading code...</p>\n        ) : errorLoadingCode ? (\n          <p className=\"error-message\">Failed to load code files.</p>\n        ) : (\n          <div className=\"code-blocks-rows\"> {/* Changed class name */}\n            {/* Instructions YAML Section (New) */}\n            <div className=\"code-block-row\">\n              <h3 onClick={() => setIsInstructionsYamlCodeCollapsed(!isInstructionsYamlCodeCollapsed)} className=\"collapsible-header\">\n                data_agent/instructions.yaml {isInstructionsYamlCodeCollapsed ? '▼' : '▲'}\n              </h3>\n              {!isInstructionsYamlCodeCollapsed && (\n                <div className=\"code-content\">\n                  <Highlight language=\"yaml\">\n                    {instructionsYamlCode}\n                  </Highlight>\n                </div>\n              )}\n            </div>\n\n            {/* Agent Code Section */}\n            <div className=\"code-block-row\"> {/* Changed class name */}\n              <h3 onClick={() => setIsAgentCodeCollapsed(!isAgentCodeCollapsed)} className=\"collapsible-header\">\n                data_agent/agent.py {isAgentCodeCollapsed ? '▼' : '▲'}\n              </h3>\n              {!isAgentCodeCollapsed && (\n                <div className=\"code-content\">\n                  <Highlight language=\"python\">\n                    {agentCode}\n                  </Highlight>\n                </div>\n              )}\n            </div>\n\n            {/* Instructions Code Section */}\n            <div className=\"code-block-row\"> {/* Changed class name */}\n              <h3 onClick={() => setIsInstructionsCodeCollapsed(!isInstructionsCodeCollapsed)} className=\"collapsible-header\">\n                data_agent/instructions.py {isInstructionsCodeCollapsed ? '▼' : '▲'}\n              </h3>\n              {!isInstructionsCodeCollapsed && (\n                <div className=\"code-content\">\n                  <Highlight language=\"python\">\n                    {instructionsCode}\n                  </Highlight>\n                </div>\n              )}\n            </div>\n\n            {/* Custom Tools Code Section */}\n            <div className=\"code-block-row\"> {/* Changed class name */}\n              <h3 onClick={() => setIsCustomToolsCodeCollapsed(!isCustomToolsCodeCollapsed)} className=\"collapsible-header\">\n                data_agent/custom_tools.py {isCustomToolsCodeCollapsed ? '▼' : '▲'}\n              </h3>\n              {!isCustomToolsCodeCollapsed && (\n                <div className=\"code-content\">\n                  <Highlight language=\"python\">\n                    {customToolsCode}\n                  </Highlight>\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default SolutionArchitecture;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}